<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Клиенты</title>
    <script>
        function sendClient() {
            const clientNameTextBox = document.getElementById('clientNameTextBox').value;
            const clientAddressTextBox = document.getElementById('clientAddressTextBox').value;
            const clientPhoneTextBox = document.getElementById('clientPhoneTextBox').value;
            const userDataContainer = document.getElementById('userDataContainer');
            //fetch('api/user?id=' + id)
            fetch('api/client', {
                method: 'POST',
                headers: {
                    'Accept': 'application/json, text/plain, */*',
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({name: clientNameTextBox, address: clientAddressTextBox, phone: clientPhoneTextBox})
            }).then(res => {if (res.status == 200) {
                location.reload()
            }})
        }
    </script>
</head>

<body>
<h4>Введите данные клиента для добавления</h4>
<input type="text" id = "clientNameTextBox"  placeholder="Введите имя клиента">
<input type="text" id = "clientAddressTextBox"  placeholder="Введите адрес клиента">
<input type="text" id = "clientPhoneTextBox"  placeholder="Введите телефон клиента">
<button onclick="sendClient()">Добавить</button>
<pre id = "userDataContainer"></pre>

<h4>Список клиентов</h4>
<table style="width: 400px">
    <thead>
    <tr>
        <td style="width: 50px">Id</td>
        <td style="width: 150px">Имя</td>
        <td style="width: 100px">Адрес</td>
        <td style="width: 100px">Телефоны</td>
    </tr>
    </thead>
    <tbody>
    <tr th:each= "client : ${clientList}">
        <td th:text="${client.id}"></td>
        <td th:text="${client.name}"></td>
        <td th:text="${client.address}"></td>
        <td th:text="${client.phones}"></td>
    </tr>
    </tbody>
</table>
</body>
</html>